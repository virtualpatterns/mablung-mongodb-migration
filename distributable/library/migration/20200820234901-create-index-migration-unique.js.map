{"version":3,"sources":["../../../source/library/migration/20200820234901-create-index-migration-unique.js"],"names":["Migration","BaseMigration","constructor","path","database","isInstalled","_database","open","existsIndexMigrationUnique","close","install","createIndexMigrationUnique","uninstall","dropIndexMigrationUnique"],"mappings":"AAAA,SAASA,SAAS,IAAIC,aAAtB,QAA2C,iBAA3C;;AAEA,MAAMD,SAAN,SAAwBC,aAAxB,CAAsC;;AAEpCC,EAAAA,WAAW,CAACC,IAAD,EAAOC,QAAP,EAAiB;AAC1B,UAAMD,IAAN,EAAYC,QAAZ;AACD;;AAED,QAAMC,WAAN,GAAoB;;AAElB,UAAM,KAAKC,SAAL,CAAeC,IAAf,EAAN;;AAEA,QAAI;AACF,aAAO,MAAM,KAAKD,SAAL,CAAeE,0BAAf,EAAb;AACD,KAFD,SAEU;AACR,YAAM,KAAKF,SAAL,CAAeG,KAAf,EAAN;AACD;;AAEF;;AAEDC,EAAAA,OAAO,GAAG;AACR,WAAO,KAAKJ,SAAL,CAAeK,0BAAf,EAAP;AACD;;AAEDC,EAAAA,SAAS,GAAG;AACV,WAAO,KAAKN,SAAL,CAAeO,wBAAf,EAAP;AACD,GAxBmC;;;;AA4BtC,eAAeb,SAAf","sourcesContent":["import { Migration as BaseMigration } from '../migration.js'\n\nclass Migration extends BaseMigration {\n\n  constructor(path, database) {\n    super(path, database)\n  }\n\n  async isInstalled() {\n\n    await this._database.open()\n\n    try {\n      return await this._database.existsIndexMigrationUnique()\n    } finally {\n      await this._database.close()\n    }\n\n  }\n\n  install() {\n    return this._database.createIndexMigrationUnique()\n  }\n\n  uninstall() {\n    return this._database.dropIndexMigrationUnique()\n  }\n\n}\n\nexport default Migration\n"],"file":"20200820234901-create-index-migration-unique.js"}